{% extends 'dashboard.html' %}
{% load static %}
{% block content %}
<div class="row">
    <!-- BEGIN daterange-filter -->
    <div class="d-sm-flex align-items-center mb-3">
        <a href="#" class="btn btn-dark me-2 text-truncate" id="daterange-filter">
            <i class="fa fa-calendar fa-fw text-white text-opacity-50 ms-n1"></i> 
            <span><p>Date Range: {{ start_date|date:"d M Y" }} - {{ end_date|date:"d M Y" }}</p></span>
        <b class="caret ms-1 opacity-5"></b>
        </a>
        <div class="text-gray-600 fw-bold mt-2 mt-sm-0"><b>compared to <span id="daterange-prev-date">{{ start_date|date:"d M Y" }} - {{ end_date|date:"d M Y" }}</b></span></div>
        <!-- dropdown -->
      <div class="btn-group">
      <a href="#" class="btn btn-dark">Dropdown</a>
      <a href="#" class="btn btn-dark dropdown-toggle" data-bs-toggle="dropdown">
      <i class="fa fa-caret-down"></i>
      </a>
      <ul class="dropdown-menu dropdown-menu-end">
        <li><a href="{% url 'AdDashboard' %}" class="btn btn-search">Adword</a></li>
        <li><a href="{% url 'Analytics_Dashboard' %}" class="btn btn-search">Analytics</a></i></li>
        <li><a href="{% url 'ABD' %}" class="btn btn-search">Artist Bookings</a></i></li>
        {% comment %} <li><a href="#" class="btn btn-search">Meta</a><i class="fa fa-caret-down"></i></li> {% endcomment %}
        <li><a href="{% url 'vendor_Booking_Dashboard' %}" class="btn btn-search">Vendor Bookinng</a></i></li>
        <li><a href="{% url 'Artist_location_dashboard' %}" class="btn btn-search">Artist Location</a></i></li>
        <li><a href="#" class="btn btn-search">Vendor Location</a></i></li>
        
        
      </ul>
</div>
     
    </div>
    <!-- END daterange-filter -->
    
</div>
<!-- END panel -->
<!-- BEGIN row -->

<div class="row">
    <!-- BEGIN col-3 -->
    <div class="col-xl-3 col-md-6">
        <div class="widget widget-stats bg-blue">
        
            <div class="stats-icon"><i class="fa fa-desktop"></i></div>
            <div class="stats-info">
                <h4>TOTAL VISITORS</h4>
                <p>{{ data.count }}</p>	
            </div>
            <div class="stats-link">
                <a href="{{ data_count}}">View Detail <i class="fa fa-arrow-alt-circle-right"></i></a>
            </div>
        </div>
    </div>
    <!-- END col-3 -->
    <!-- BEGIN col-3 -->
    <div class="col-xl-3 col-md-6">
        <div class="widget widget-stats bg-info">
            <div class="stats-icon"><i class="fa fa-link"></i></div>
            <div class="stats-info">
                <h4>BOUNCE RATE</h4>
                <p>{{name|length}}</p>	
            </div>
            <div class="stats-link">
                <a href="javascript:;">View Detail <i class="fa fa-arrow-alt-circle-right"></i></a>
            </div>
        </div>
    </div>
    <!-- END col-3 -->
    <!-- BEGIN col-3 -->
    <div class="col-xl-3 col-md-6">
        <div class="widget widget-stats bg-orange">
            <div class="stats-icon"><i class="fa fa-users"></i></div>
            <div class="stats-info">
                <h4>UNIQUE VISITORS</h4>
                <p>{{latitude|length}}</p>	
            </div>
            <div class="stats-link">
                <a href="#">View Detail <i class="fa fa-arrow-alt-circle-right"></i></a>
            </div>
        </div>
    </div>
    <!-- END col-3 -->
    <!-- BEGIN col-3 -->
    <div class="col-xl-3 col-md-6">
        <div class="widget widget-stats bg-red">
            <div class="stats-icon"><i class="fa fa-clock"></i></div>
            <div class="stats-info">
                <h4>AVG TIME ON SITE</h4>
                <p>{{is_active|length}}</p>	
            </div>
            <div class="stats-link">
                <a href="javascript:;">View Detail <i class="fa fa-arrow-alt-circle-right"></i></a>
            </div>
        </div>
    </div>
    <!-- END col-3 -->
    
</div>
<!-- END row -->

<!-- BEGIN row -->

<!-- END row -->
<!-- BEGIN panel -->
<div class="panel panel-inverse" data-sortable-id="index-1">
    <div class="panel-heading">
        <h4 class="panel-title">Website Analytics (Last 7 Days)</h4>
        <div class="panel-heading-btn">
            <a href="javascript:;" class="btn btn-xs btn-icon btn-default" data-toggle="panel-expand"><i class="fa fa-expand"></i></a>
            <a href="javascript:;" class="btn btn-xs btn-icon btn-success" data-toggle="panel-reload"><i class="fa fa-redo"></i></a>
            <a href="javascript:;" class="btn btn-xs btn-icon btn-warning" data-toggle="panel-collapse"><i class="fa fa-minus"></i></a>
            <a href="javascript:;" class="btn btn-xs btn-icon btn-danger" data-toggle="panel-remove"><i class="fa fa-times"></i></a>
        </div>
    </div>
    <div class="panel-body pe-1">
       <canvas id="myChart" width="400" height="100"></canvas>
    </div>
</div>
 
<!-- END panel -->
</div>
<!-- END #content -->

<script src="../static/js/demo/dashboard.js"></script>


<!-- BEGIN scroll-top-btn -->
{% comment %} <a href="javascript:;" class="btn btn-icon btn-circle btn-success btn-scroll-to-top" data-toggle="scroll-to-top"><i class="fa fa-angle-up"></i></a> {% endcomment %}
<!-- END scroll-top-btn -->
</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <script>
	const ctx = document.getElementById('myChart');
  
	new Chart(ctx, {
	  type: 'line',
	  data: {
		labels: [{% for data in data %}'{{ data.location }}',{% endfor %}],
		datasets: [{
		  label: 'Latitude',
		  data: [{% for data in data %}{{ data.latitude }},{% endfor %}],
		  backgroundColor: 'rgba(54, 162, 235, 0.5)',
		  borderColor: 'rgba(54, 162, 235, 1)',
		  borderWidth: 1
		}]
	  },
	  options: {
		scales: {
		  y: {
			beginAtZero: true
		  },
		  x: {
			ticks: {
			  maxRotation: 0, // Set the rotation to 0 degrees
			  autoSkip: false, // Disable automatic skipping of labels
			  maxTicksLimit: 10 // Adjust the maximum number of ticks to display
			}
		  }
		},
		indexAxis: 'x', // Set the index axis to 'x' for horizontal bar chart
		barThickness: 20 // Adjust the bar thickness (remove quotation marks for a numerical value)
	  }
	});
  </script>
  {% endblock content %}